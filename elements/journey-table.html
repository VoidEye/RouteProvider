<!DOCTYPE html>
<html>
<head>
	<link href="../bower_components/polymer/polymer.html" rel="import">
	<link href="../bower_components/paper-icon-button/paper-icon-button.html" rel="import">
	<link href="../bower_components/paper-material/paper-material.html" rel="import">
	<link href="../bower_components/paper-input/paper-input.html" rel="import">
	<link href="../bower_components/paper-fab/paper-fab.html" rel="import">
	<link href="../bower_components/paper-button/paper-button.html" rel="import">
	<link href="../bower_components/iron-icons/iron-icons.html" rel="import">
	<link href="../bower_components/paper-checkbox/paper-checkbox.html" rel="import">
	<link href="../bower_components/paper-item/paper-item.html" rel="import">
</head>

<dom-module id="journey-table">
<template>
<style>
#stepAdder, #stepRemover{
			background-color: green;
			height: 25px;
			margin-top: 15px;
			min-width: 35px;
			padding: 0px;
}
.wholeTable {
	margin-left: 20px;
}
#hourPicker, #minutePicker{
			width: 25px;
}
#datePicker {
	width: 75px;
	margin-top: 15px;
}
#DirectionsEntry {
	margin-top: 15px;
	padding-top: 50px;
	max-width: 180px;
	max-height: 200px;
}
#JourneyOptions {
	width: 120px;
	margin-top: 30px;
	float: left;
	overflow: hidden;
}
#getToday {
	background-color: 5059FF;
	font-size: 12px;
	margin-top: 5px;
}
#swap {
	max-width: 10px;
	font-size: 10px;
	margin-top: 5px;
}
#stopsTable {
	width: 180px;
}
#firstColumn {
	float:left;
}
#stopButtons{
	display: inline;
}
#stopsTable{
	float: left;
}
#buttons{
	float: left;
}
.swapButtons {
	width: 20px;
	height: 20px;
}
paper-input {
	max-width: 140px;
	height: 40px;
}
paper-radio-group  > * {
	padding: 3px;
}
paper-radio-button {
	white-space: nowrap;
	cursor: pointer;
}
</style>
	<div class="wholeTable">
		<div id="firstColumn">
			<div id="stopsTable">
				<template id="journeyTableT" is="dom-repeat" items="{{journeyStops}}">
    				<paper-input id="{{item}}"></paper-input>
    			</template>	
    		</div>

    					<!--needs uniques ids for every table, and unique id for button -->
    		<div id="stopButtons">
    			<paper-button raised id="stepAdder" on-click="addStep"> 
    				<iron-icon id"addStepIcon" icon="add"></iron-icon>
    			</paper-button>
    			<paper-button raised id="stepRemover" on-click="removeStep"> 
    				<iron-icon id"removeStepIcon" icon="block"></iron-icon>
    			</paper-button>
    		</div>
    		<div id="buttons">
    			<template is="dom-repeat" items="{{swapButtons}}">
    				<paper-button id="{{item.swapID}}" on-click="swapStartStop" class="swapButtons">8</paper-button>
    			</template>
    		</div>
    	</div>
    	<div id="JourneyOptions">
    		<input type="text" id="datePicker">
			<input type="text" id="hourPicker">:<input type="text" id="minutePicker">
			<paper-checkbox>Przyjazd</paper-checkbox>
					<!--<paper-fab id="mainButton" icon="icons:reply" on-click="forwardRequest"></paper-fab>-->
			<div id ="internal">
				<paper-button raised id="getToday" on-click="setCurrentDate">Now</paper-button>
			</div>
			Trasa piechotÄ…:
			<input type="text" id="maxWalk">
		</div>
	</div>
</template>
<script>
	Polymer({
		is: "journey-table",
    	properties: {
    		swapButtons: {
    			type: Array,
    			value: function() { 
    				return [{swapID: "swapBtn1"}];
    			}
    		}		
    	},

		addStep: function(){
    		if(this.journeyStops.length < 5){
    			var lastItem = this.journeyStops[this.journeyStops.length - 1];
    			lastItem += 1;
    			var newBtnVal = "swapBtn" + lastItem;
    			var newValue = "inputStop" + lastItem;   			
    			this.push('journeyStops', newValue);
    			this.push('swapButtons', newBtnVal)
    		}
    	},
    	removeStep: function(){
    		if(this.journeyStops.length > 2){
    			this.pop('journeyStops');
    			this.pop('swapButtons');
    		}
    	},
    	ready: function(e){
    		this.journeyStops = ["inputStop0","inputStop1"];
		}
  	});
  	window.addEventListener('WebComponentsReady', function(e){
	})	
</script>
</dom-module>
